<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>My Blog</title>
</head>
<body>
    <h1>Welcome to My Blog</h1>
    
    <div id="blog-posts"></div>

    <script>
        // Function to fetch and parse the XML feed
        function loadXMLDoc() {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    parseXML(this);
                }
            };
            xhttp.open("GET", "feed.xml", true); // Replace with the path to your XML file
            xhttp.send();
        }

        // Function to parse the XML content and generate blog posts
        function parseXML(xml) {
            var xmlDoc = xml.responseXML;
            var items = xmlDoc.getElementsByTagName("item");
            var blogPosts = document.getElementById("blog-posts");

            for (var i = 0; i < items.length; i++) {
                var title = items[i].getElementsByTagName("title")[0].childNodes[0].nodeValue;
                var link = items[i].getElementsByTagName("link")[0].childNodes[0].nodeValue;
                var description = items[i].getElementsByTagName("description")[0].childNodes[0].nodeValue;
                var pubDate = items[i].getElementsByTagName("pubDate")[0].childNodes[0].nodeValue;

                // Create a div for each blog post
                var blogPostDiv = document.createElement("div");
                blogPostDiv.className = "blog-post";

                // Create an h2 element for the blog post title and a link to the full post
                var blogPostTitle = document.createElement("h2");
                var blogPostTitleLink = document.createElement("a");
                blogPostTitleLink.href = link;
                blogPostTitleLink.innerHTML = title;
                blogPostTitle.appendChild(blogPostTitleLink);

                // Create a paragraph for the blog post description
                var blogPostDescription = document.createElement("p");
                blogPostDescription.innerHTML = description;

                // Create a paragraph for the publication date
                var blogPostPubDate = document.createElement("p");
                blogPostPubDate.innerHTML = "Published on: " + pubDate;

                // Append elements to the blog post div
                blogPostDiv.appendChild(blogPostTitle);
                blogPostDiv.appendChild(blogPostDescription);
                blogPostDiv.appendChild(blogPostPubDate);

                // Append the blog post div to the main container
                blogPosts.appendChild(blogPostDiv);

                // Fetch and add the blog post content
                fetchBlogPostContent(link, blogPostDiv);
            }
        }

        // Function to fetch and add the content of a blog post
        function fetchBlogPostContent(link, blogPostDiv) {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    // Extract the content of the blog post from the fetched page
                    var content = this.responseText;
                    var contentDiv = document.createElement("div");
                    contentDiv.innerHTML = content;

                    // Append the content to the blog post div
                    blogPostDiv.appendChild(contentDiv);
                }
            };
            xhttp.open("GET", link, true); // Fetch the content from the link in the RSS feed
            xhttp.send();
        }

        // Load the XML feed and parse it when the page loads
        window.onload = loadXMLDoc;
    </script>
</body>
</html>
